<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: url | php.js]]></title>
  <link href="http://kvz.github.com/phpjs//categories/url/atom.xml" rel="self"/>
  <link href="http://kvz.github.com/phpjs//"/>
  <updated>2012-05-17T23:03:58+02:00</updated>
  <id>http://kvz.github.com/phpjs//</id>
  <author>
    <name><![CDATA[phpjs.org]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[JavaScript urlencode function]]></title>
    <link href="http://kvz.github.com/phpjs/functions/urlencode"/>
    <updated>2012-05-17T18:49:00+02:00</updated>
    <id>http://kvz.github.com/phpjs/functions/urlencode</id>
    <content type="html"><![CDATA[<p>A JavaScript equivalent of PHP's urlencode</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>url/urlencode.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/url/urlencode.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">urlencode</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'><span class="c1">// +   original by: Philip Peterson</span>
</span><span class='line'><span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +      input by: AJ</span>
</span><span class='line'><span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +   improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +      input by: travc</span>
</span><span class='line'><span class="c1">// +      input by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +   improved by: Lars Fischer</span>
</span><span class='line'><span class="c1">// +      input by: Ratheous</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Joris</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// %          note 1: This reflects PHP 5.3/6.0+ behavior</span>
</span><span class='line'><span class="c1">// %        note 2: Please be aware that this function expects to encode into UTF-8 encoded strings, as found on</span>
</span><span class='line'><span class="c1">// %        note 2: pages served as UTF-8</span>
</span><span class='line'><span class="c1">// *     example 1: urlencode(&#39;Kevin van Zonneveld!&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 1: &#39;Kevin+van+Zonneveld%21&#39;</span>
</span><span class='line'><span class="c1">// *     example 2: urlencode(&#39;http://kevin.vanzonneveld.net/&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 2: &#39;http%3A%2F%2Fkevin.vanzonneveld.net%2F&#39;</span>
</span><span class='line'><span class="c1">// *     example 3: urlencode(&#39;http://www.google.nl/search?q=php.js&amp;amp;ie=utf-8&amp;amp;oe=utf-8&amp;amp;aq=t&amp;amp;rls=com.ubuntu:en-US:unofficial&amp;amp;client=firefox-a&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 3: &#39;http%3A%2F%2Fwww.google.nl%2Fsearch%3Fq%3Dphp.js%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dcom.ubuntu%3Aen-US%3Aunofficial%26client%3Dfirefox-a&#39;</span>
</span><span class='line'><span class="nx">str</span> <span class="o">=</span> <span class="p">(</span><span class="nx">str</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current</span>
</span><span class='line'><span class="c1">// PHP behavior, you would need to add &quot;.replace(/~/g, &#39;%7E&#39;);&quot; to the following.</span>
</span><span class='line'><span class="k">return</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">str</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/!/g</span><span class="p">,</span> <span class="s1">&#39;%21&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&#39;/g</span><span class="p">,</span> <span class="s1">&#39;%27&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\(/g</span><span class="p">,</span> <span class="s1">&#39;%28&#39;</span><span class="p">).</span>
</span><span class='line'><span class="nx">replace</span><span class="p">(</span><span class="sr">/\)/g</span><span class="p">,</span> <span class="s1">&#39;%29&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\*/g</span><span class="p">,</span> <span class="s1">&#39;%2A&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%20/g</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">);</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
 <li><a href="https://github.com/kvz/phpjs/blob/master/functions/url/urlencode.js">view on github</a></li>
 <li><a href="https://github.com/kvz/phpjs/edit/master/functions/url/urlencode.js">edit on github</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript urldecode function]]></title>
    <link href="http://kvz.github.com/phpjs/functions/urldecode"/>
    <updated>2012-05-17T18:49:00+02:00</updated>
    <id>http://kvz.github.com/phpjs/functions/urldecode</id>
    <content type="html"><![CDATA[<p>A JavaScript equivalent of PHP's urldecode</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>url/urldecode.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/url/urldecode.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">urldecode</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'><span class="c1">// +   original by: Philip Peterson</span>
</span><span class='line'><span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +      input by: AJ</span>
</span><span class='line'><span class="c1">// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +   improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +      input by: travc</span>
</span><span class='line'><span class="c1">// +      input by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +   improved by: Lars Fischer</span>
</span><span class='line'><span class="c1">// +      input by: Ratheous</span>
</span><span class='line'><span class="c1">// +   improved by: Orlando</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +      bugfixed by: Rob</span>
</span><span class='line'><span class="c1">// +      input by: e-mike</span>
</span><span class='line'><span class="c1">// +   improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// %        note 1: info on what encoding functions to use from: http://xkr.us/articles/javascript/encode-compare/</span>
</span><span class='line'><span class="c1">// %        note 2: Please be aware that this function expects to decode from UTF-8 encoded strings, as found on</span>
</span><span class='line'><span class="c1">// %        note 2: pages served as UTF-8</span>
</span><span class='line'><span class="c1">// *     example 1: urldecode(&#39;Kevin+van+Zonneveld%21&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 1: &#39;Kevin van Zonneveld!&#39;</span>
</span><span class='line'><span class="c1">// *     example 2: urldecode(&#39;http%3A%2F%2Fkevin.vanzonneveld.net%2F&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 2: &#39;http://kevin.vanzonneveld.net/&#39;</span>
</span><span class='line'><span class="c1">// *     example 3: urldecode(&#39;http%3A%2F%2Fwww.google.nl%2Fsearch%3Fq%3Dphp.js%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dcom.ubuntu%3Aen-US%3Aunofficial%26client%3Dfirefox-a&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 3: &#39;http://www.google.nl/search?q=php.js&amp;amp;ie=utf-8&amp;amp;oe=utf-8&amp;amp;aq=t&amp;amp;rls=com.ubuntu:en-US:unofficial&amp;amp;client=firefox-a&#39;</span>
</span><span class='line'><span class="k">return</span> <span class="nb">decodeURIComponent</span><span class="p">((</span><span class="nx">str</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\+/g</span><span class="p">,</span> <span class="s1">&#39;%20&#39;</span><span class="p">));</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
 <li><a href="https://github.com/kvz/phpjs/blob/master/functions/url/urldecode.js">view on github</a></li>
 <li><a href="https://github.com/kvz/phpjs/edit/master/functions/url/urldecode.js">edit on github</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript rawurlencode function]]></title>
    <link href="http://kvz.github.com/phpjs/functions/rawurlencode"/>
    <updated>2012-05-17T18:49:00+02:00</updated>
    <id>http://kvz.github.com/phpjs/functions/rawurlencode</id>
    <content type="html"><![CDATA[<p>A JavaScript equivalent of PHP's rawurlencode</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>url/rawurlencode.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/url/rawurlencode.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">rawurlencode</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'><span class="c1">// +   original by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +      input by: travc</span>
</span><span class='line'><span class="c1">// +      input by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +      input by: Michael Grier</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +      input by: Ratheous</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Joris</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// %          note 1: This reflects PHP 5.3/6.0+ behavior</span>
</span><span class='line'><span class="c1">// %        note 2: Please be aware that this function expects to encode into UTF-8 encoded strings, as found on</span>
</span><span class='line'><span class="c1">// %        note 2: pages served as UTF-8</span>
</span><span class='line'><span class="c1">// *     example 1: rawurlencode(&#39;Kevin van Zonneveld!&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 1: &#39;Kevin%20van%20Zonneveld%21&#39;</span>
</span><span class='line'><span class="c1">// *     example 2: rawurlencode(&#39;http://kevin.vanzonneveld.net/&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 2: &#39;http%3A%2F%2Fkevin.vanzonneveld.net%2F&#39;</span>
</span><span class='line'><span class="c1">// *     example 3: rawurlencode(&#39;http://www.google.nl/search?q=php.js&amp;amp;ie=utf-8&amp;amp;oe=utf-8&amp;amp;aq=t&amp;amp;rls=com.ubuntu:en-US:unofficial&amp;amp;client=firefox-a&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 3: &#39;http%3A%2F%2Fwww.google.nl%2Fsearch%3Fq%3Dphp.js%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dcom.ubuntu%3Aen-US%3Aunofficial%26client%3Dfirefox-a&#39;</span>
</span><span class='line'><span class="nx">str</span> <span class="o">=</span> <span class="p">(</span><span class="nx">str</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Tilde should be allowed unescaped in future versions of PHP (as reflected below), but if you want to reflect current</span>
</span><span class='line'><span class="c1">// PHP behavior, you would need to add &quot;.replace(/~/g, &#39;%7E&#39;);&quot; to the following.</span>
</span><span class='line'><span class="k">return</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">str</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/!/g</span><span class="p">,</span> <span class="s1">&#39;%21&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&#39;/g</span><span class="p">,</span> <span class="s1">&#39;%27&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\(/g</span><span class="p">,</span> <span class="s1">&#39;%28&#39;</span><span class="p">).</span>
</span><span class='line'><span class="nx">replace</span><span class="p">(</span><span class="sr">/\)/g</span><span class="p">,</span> <span class="s1">&#39;%29&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\*/g</span><span class="p">,</span> <span class="s1">&#39;%2A&#39;</span><span class="p">);</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
 <li><a href="https://github.com/kvz/phpjs/blob/master/functions/url/rawurlencode.js">view on github</a></li>
 <li><a href="https://github.com/kvz/phpjs/edit/master/functions/url/rawurlencode.js">edit on github</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript rawurldecode function]]></title>
    <link href="http://kvz.github.com/phpjs/functions/rawurldecode"/>
    <updated>2012-05-17T18:49:00+02:00</updated>
    <id>http://kvz.github.com/phpjs/functions/rawurldecode</id>
    <content type="html"><![CDATA[<p>A JavaScript equivalent of PHP's rawurldecode</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>url/rawurldecode.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/url/rawurldecode.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">rawurldecode</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'><span class="c1">// +   original by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +      input by: travc</span>
</span><span class='line'><span class="c1">// +      input by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)</span>
</span><span class='line'><span class="c1">// +      input by: Ratheous</span>
</span><span class='line'><span class="c1">// +      reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// %        note 1: Please be aware that this function expects to decode from UTF-8 encoded strings, as found on</span>
</span><span class='line'><span class="c1">// %        note 1: pages served as UTF-8</span>
</span><span class='line'><span class="c1">// *     example 1: rawurldecode(&#39;Kevin+van+Zonneveld%21&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 1: &#39;Kevin+van+Zonneveld!&#39;</span>
</span><span class='line'><span class="c1">// *     example 2: rawurldecode(&#39;http%3A%2F%2Fkevin.vanzonneveld.net%2F&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 2: &#39;http://kevin.vanzonneveld.net/&#39;</span>
</span><span class='line'><span class="c1">// *     example 3: rawurldecode(&#39;http%3A%2F%2Fwww.google.nl%2Fsearch%3Fq%3Dphp.js%26ie%3Dutf-8%26oe%3Dutf-8%26aq%3Dt%26rls%3Dcom.ubuntu%3Aen-US%3Aunofficial%26client%3Dfirefox-a&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 3: &#39;http://www.google.nl/search?q=php.js&amp;amp;ie=utf-8&amp;amp;oe=utf-8&amp;amp;aq=t&amp;amp;rls=com.ubuntu:en-US:unofficial&amp;amp;client=firefox-a&#39;</span>
</span><span class='line'><span class="c1">// *     example 4: rawurldecode(&#39;-22%97bc%2Fbc&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 4: &#39;-22—bc/bc&#39;</span>
</span><span class='line'><span class="k">return</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">str</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
 <li><a href="https://github.com/kvz/phpjs/blob/master/functions/url/rawurldecode.js">view on github</a></li>
 <li><a href="https://github.com/kvz/phpjs/edit/master/functions/url/rawurldecode.js">edit on github</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript parse_url function]]></title>
    <link href="http://kvz.github.com/phpjs/functions/parse_url"/>
    <updated>2012-05-17T18:49:00+02:00</updated>
    <id>http://kvz.github.com/phpjs/functions/parse_url</id>
    <content type="html"><![CDATA[<p>A JavaScript equivalent of PHP's parse_url</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>url/parse_url.js </span><a href='https://raw.github.com/kvz/phpjs/master/functions/url/parse_url.js'>raw on github </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">parse_url</span> <span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">component</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="c1">// http://kevin.vanzonneveld.net</span>
</span><span class='line'><span class="c1">// +      original by: Steven Levithan (http://blog.stevenlevithan.com)</span>
</span><span class='line'><span class="c1">// + reimplemented by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// + input by: Lorenzo Pisani</span>
</span><span class='line'><span class="c1">// + input by: Tony</span>
</span><span class='line'><span class="c1">// + improved by: Brett Zamir (http://brett-zamir.me)</span>
</span><span class='line'><span class="c1">// %          note: Based on http://stevenlevithan.com/demo/parseuri/js/assets/parseuri.js</span>
</span><span class='line'><span class="c1">// %          note: blog post at http://blog.stevenlevithan.com/archives/parseuri</span>
</span><span class='line'><span class="c1">// %          note: demo at http://stevenlevithan.com/demo/parseuri/js/assets/parseuri.js</span>
</span><span class='line'><span class="c1">// %          note: Does not replace invalid characters with &#39;_&#39; as in PHP, nor does it return false with</span>
</span><span class='line'><span class="c1">// %          note: a seriously malformed URL.</span>
</span><span class='line'><span class="c1">// %          note: Besides function name, is essentially the same as parseUri as well as our allowing</span>
</span><span class='line'><span class="c1">// %          note: an extra slash after the scheme/protocol (to allow file:/// as in PHP)</span>
</span><span class='line'><span class="c1">// *     example 1: parse_url(&#39;http://username:password@hostname/path?arg=value#anchor&#39;);</span>
</span><span class='line'><span class="c1">// *     returns 1: {scheme: &#39;http&#39;, host: &#39;hostname&#39;, user: &#39;username&#39;, pass: &#39;password&#39;, path: &#39;/path&#39;, query: &#39;arg=value&#39;, fragment: &#39;anchor&#39;}</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;scheme&#39;</span><span class="p">,</span> <span class="s1">&#39;authority&#39;</span><span class="p">,</span> <span class="s1">&#39;userInfo&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span><span class="p">,</span>
</span><span class='line'>                    <span class="s1">&#39;relative&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;directory&#39;</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="s1">&#39;query&#39;</span><span class="p">,</span> <span class="s1">&#39;fragment&#39;</span><span class="p">],</span>
</span><span class='line'>    <span class="nx">ini</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">php_js</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="k">this</span><span class="p">.</span><span class="nx">php_js</span><span class="p">.</span><span class="nx">ini</span><span class="p">)</span> <span class="o">||</span> <span class="p">{},</span>
</span><span class='line'>    <span class="nx">mode</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ini</span><span class="p">[</span><span class="s1">&#39;phpjs.parse_url.mode&#39;</span><span class="p">]</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span>
</span><span class='line'>        <span class="nx">ini</span><span class="p">[</span><span class="s1">&#39;phpjs.parse_url.mode&#39;</span><span class="p">].</span><span class="nx">local_value</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;php&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">parser</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">php</span><span class="o">:</span> <span class="sr">/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">strict</span><span class="o">:</span> <span class="sr">/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">loose</span><span class="o">:</span> <span class="sr">/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/</span> <span class="c1">// Added one optional slash to post-scheme to catch file:/// (should restrict this)</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">[</span><span class="nx">mode</span><span class="p">].</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">),</span>
</span><span class='line'>    <span class="nx">uri</span> <span class="o">=</span> <span class="p">{},</span>
</span><span class='line'>    <span class="nx">i</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
</span><span class='line'><span class="k">while</span> <span class="p">(</span><span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">uri</span><span class="p">[</span><span class="nx">key</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">m</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">component</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">uri</span><span class="p">[</span><span class="nx">component</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;PHP_URL_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">mode</span> <span class="o">!==</span> <span class="s1">&#39;php&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ini</span><span class="p">[</span><span class="s1">&#39;phpjs.parse_url.queryKey&#39;</span><span class="p">]</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span>
</span><span class='line'>            <span class="nx">ini</span><span class="p">[</span><span class="s1">&#39;phpjs.parse_url.queryKey&#39;</span><span class="p">].</span><span class="nx">local_value</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;queryKey&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">parser</span> <span class="o">=</span> <span class="sr">/(?:^|&amp;amp;)([^&amp;amp;=]*)=?([^&amp;amp;]*)/g</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">uri</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'>    <span class="nx">uri</span><span class="p">[</span><span class="nx">key</span><span class="p">[</span><span class="mi">12</span><span class="p">]].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">$0</span><span class="p">,</span> <span class="nx">$1</span><span class="p">,</span> <span class="nx">$2</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">$1</span><span class="p">)</span> <span class="p">{</span><span class="nx">uri</span><span class="p">[</span><span class="nx">name</span><span class="p">][</span><span class="nx">$1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">$2</span><span class="p">;}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">delete</span> <span class="nx">uri</span><span class="p">.</span><span class="nx">source</span><span class="p">;</span>
</span><span class='line'><span class="k">return</span> <span class="nx">uri</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
 <li><a href="https://github.com/kvz/phpjs/blob/master/functions/url/parse_url.js">view on github</a></li>
 <li><a href="https://github.com/kvz/phpjs/edit/master/functions/url/parse_url.js">edit on github</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
